"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var moodleString=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return console.log(b),"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<quiz>\n"+a.map(function(a,c){return question(c,a,b.shuffle)}).join("\n")+"\n</quiz>"},category=function(a){return"\t<question type=\"category\">\n\t\t<category>\n\t\t\t<text>"+a+"</text>\n\t\t</category>\n\t</question>\n"},categoryHierarchy=function(a){var b=["$course$/top"].concat(a);return b.map(function(a,c){return category(b.slice(0,c+1).join("/"))}).join("")},question=function(a,b,c){var d=b.type,e=b.name,f=b.question,g=b.categories,h=b.answers,i=b.correctAnswer,j=b.fractions,k=b.useLetters,l=b.feedback,m=b.single,n=b.tags;return"category"===d?categoryHierarchy(g):("\t<!-- Question entry "+a+" -->\n\t<question type=\""+d+"\">\n\t\t<name>\n\t\t\t<text><![CDATA["+e+"]]></text>\n\t\t</name>\n\t\t<questiontext format=\"html\">\n\t\t\t<text><![CDATA["+f+"]]></text>\n\t\t</questiontext>\n\t\t"+questionType(d,f,h,i,j,k,l,m,c)+(l?"\n\t\t<generalfeedback><text>"+l+"</text></generalfeedback>":"")+"\n\t\t"+showTags(n)+"\n\t</question>\n").replace("\n\t*\n","")},questionType=function(a,b,c,d,e,f,g,h,j){return"matching"===a||"order"===a?""+(c||[]).map(function(b,a){return"<subquestion>\n\t\t\t<text><![CDATA["+b+"]]></text>\n\t\t\t"+(d&&d.length?"<answer format=\"html\">\n\t\t\t\t<text><![CDATA["+d[a]+"]]></text>\n\t\t\t</answer>\n\t\t\t\t":"\n")+"\n\t\t\t</subquestion>\n\t\t\t"+(j?"<shuffleanswers>true</shuffleanswers>":"")+"\n\t\t\t"}).join(""):"truefalse"===a?""+(c||[]).map(function(b,a){var c=-1===(d||[]).indexOf(a)?"0":"100";return"<answer format=\"moodle_auto_format\" fraction=\""+(e&&void 0!==e[a]?e[a]:c)+"\">\n\t\t\t\t<text>"+b.toLowerCase()+"</text>\n\t\t</answer>\n\t\t"}).join("")+(h?"\n\t\t<single>true</single>":"")+(!1===f?"\n\t\t<answernumbering>123</answernumbering>":""):""+(c||[]).map(function(b,a){var c=-1===(d||[]).indexOf(a)?"0":"100";return"<answer format=\"html\" fraction=\""+(e&&void 0!==e[a]?e[a]:c)+"\">\n\t\t\t\t<text><![CDATA["+b+"]]></text>\n\t\t</answer>\n\t\t"}).join("")+(h?"\n\t\t<single>true</single>":1<c.length?"\n\t\t<single>false</single>":"")+(!1===f?"\n\t\t<answernumbering>123</answernumbering>":"")+(j?"\n\t\t<shuffleanswers>true</shuffleanswers>":"")},showTags=function(a){if(a&&0<a.length){var b="<tags>\n";return b+=a.map(function(a){return"        <tag>\n            <text>"+a+"</text>\n        </tag>"}).join("\n"),b+="\n    </tags>",b}return""};exports.default=moodleString,module.exports=exports["default"];